<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../assets/img/favicon-18.png" type="image/png"> <!-- Agregar el favicon -->
    <title>Remito Nuevo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <!-- Botón Volver al Inicio -->
    <div class="container mt-4">
        <a href="index.html">
            <button class="btn btn-danger mb-4 w-auto">Volver al inicio</button>
        </a>
    </div>
    
    <div class="container mt-5">
        <img src="../assets/img/logo-03.png" alt="Descripción de la imagen" class="img-fluid w-50">
        
        <h1>Remito nuevo</h1>
        <div class="mb-3">
            <label for="nombreRemito" class="form-label">Nombre del Remito:</label>
            <input type="text" class="form-control" id="nombreRemito" required>
        </div>
        <form id="remitoForm">
            <div class="mb-3">
                <label for="fecha" class="form-label">Fecha:</label>
                <input type="text" class="form-control" id="fecha" required>
            </div>
            <div class="mb-3">
                <label for="cliente" class="form-label">Cliente:</label>
                <input type="text" class="form-control" id="cliente" required>
            </div>
            <div class="mb-3">
                <label for="detalle" class="form-label">Detalle:</label>
                <textarea class="form-control" id="detalle" rows="4" required></textarea>
            </div>
            <div class="mb-3">
                <label for="total" class="form-label">Total:</label>
                <input type="text" class="form-control" id="total" required>
            </div>
            <button type="button" class="btn btn-primary" id="generateRemito">Guardar y generar Remito</button>
        </form>
    </div>

    <script>
        document.getElementById("generateRemito").addEventListener("click", function() {
            const { jsPDF } = window.jspdf;  // Accedemos a la librería jsPDF


         
            // Obtenemos los valores de los campos del formulario
            const nombreRemito = document.getElementById("nombreRemito").value;
            const fecha = document.getElementById("fecha").value;
            const cliente = document.getElementById("cliente").value;
            const detalle = document.getElementById("detalle").value;
            const total = document.getElementById("total").value;



            // Creamos una nueva instancia de jsPDF
            const doc = new jsPDF();

// Agregar la imagen al PDF (antes de los campos)
const imgPath = '../assets/img/header-19.png'; // Ruta de la imagen
    doc.addImage(imgPath, 'PNG', 10, 10, 180, 30); // Ajusta las coordenadas y tamaño según necesites

            // Establecer la posición para el texto
            let yPosition = 50; // Espacio después de la imagen

            // Añadir el contenido al PDF
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(16);
            doc.text('Remito: ' + nombreRemito, 10, yPosition);
            yPosition += 10;
            doc.setFontSize(12);
            doc.text("Fecha: " + fecha, 10, yPosition);
            yPosition += 10;
            doc.text("Cliente: " + cliente, 10, yPosition);
            yPosition += 10;
            doc.text("Detalle: " + detalle, 10, yPosition);
            yPosition += 10;
            doc.text("Total: " + total, 10, yPosition);

            // Añadir la imagen al pie de página (ajustar posición)
            const footerImg = "../assets/img/footer-pdf-20.png"; // Ruta de la imagen en el pie
            const footerYPosition = 250; // Ajustamos la posición del pie, se puede cambiar según sea necesario
            doc.addImage(footerImg, 'PNG', 10, footerYPosition, 180, 30);  // Tamaño y posición de la imagen

            // Generamos y descargamos el archivo PDF
            doc.save(nombreRemito + ".pdf");
        });
    </script>

    <!-- Footer -->
    <br><br><br><br><br>
    <footer style="background-color: #f5f1f1; color: rgb(53, 50, 50); padding: 20px 0; text-align: center;">
        <div class="container">
            <img src="../assets/img/favicon-18.png" alt="Logo" style="max-width: 100px; margin-bottom: 10px;">
            <p>&copy; Software creado para : San José - Servicios industriales</p>
            <p><a href="https://www.mclr-webdesign.com/" target="_blank" style="color: rgb(230, 87, 87); text-decoration: none;">Diseñado por MCLR-WEBDESIGN</a></p>
        </div>
    </footer>
</body>
</html>

